---
title: "Perceptual pilot experiment"
author: "Stefano Coretta"
date: "11/01/2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = normalizePath("../../"))
library(tidyverse)
theme_set(theme_minimal())
```

# Import data

```{r import}
pilot <- list.files(
  path = "./perceptual-pilot/experiment/results/",
  pattern = "*.csv",
  full.names = TRUE
) %>%
  map_df(~read_csv(., col_types = cols(.default = "c"))) %>%
  mutate(
    key_resp_2.keys = ifelse(key_resp_2.keys == "z", "d", "t"),
    key_resp_8.keys = ifelse(key_resp_8.keys == "z", "t", "d"),
    response = coalesce(key_resp_2.keys, key_resp_8.keys),
    response = factor(response, levels = c("t", "d")),
    burst = as.numeric(burst),
    voicing = as.numeric(voicing)
  ) %>%
  filter(!is.na(response))
```

# Explore

```{r}
pilot %>%
    filter(condition == "burst") %>%
    ggplot(aes(burst, as.numeric(response))) +
    geom_smooth(method = "loess")
```

```{r}
pilot %>%
    filter(condition == "voicing") %>%
    ggplot(aes(voicing, as.numeric(response))) +
    geom_smooth(method = "loess")
```
